(this.webpackJsonpptms=this.webpackJsonpptms||[]).push([[65],{777:function(e,t,n){"use strict";var a=n(114),c=(n(0),n(160));n(138);t.a=new function e(){var t=this;Object(a.a)(this,e),this.postToExternalSite=function(e,n){console.log("dataToPost ::",e);var a=window.document.createElement("form");a.setAttribute("method","post"),a.setAttribute("action",n);for(var c=Object.keys(e),r=0;r<c.length;r++)a.appendChild(t.createHiddenElement(c[r],e[c[r]]));window.document.body.appendChild(a),a.submit()},this.createHiddenElement=function(e,t){var n=document.createElement("input");return n.setAttribute("name",e),n.setAttribute("value",t),n.setAttribute("type","hidden"),n},this.downloadReceipt=function(e){var t="".concat(c.q)+"/"+"".concat(e);console.log("remoteUrl::",t);window.open(t)}}},804:function(e,t,n){"use strict";var a=n(114),c=n(115),r=n(138),o=n(160),i=function(){function e(){Object(a.a)(this,e),this.cancellationRequest=function(e){var t={url:"".concat(o.a,"/requestContainerDetails/cancel"),body:e};return Object(r.c)(t,!0).catch((function(e){return e}))},this.updateRequestTruckType=function(e,t){var n={url:"".concat(o.fb,"/").concat(e),body:t};return Object(r.c)(n,!0).catch((function(e){return e}))}}return Object(c.a)(e,[{key:"fetchContainerCount",value:function(){var e={url:o.v};return Object(r.a)(e,!1)}},{key:"fetchContainerSummaryAndPayment",value:function(e){var t={url:o.x,body:e};return Object(r.c)(t,!0).catch((function(e){return e}))}},{key:"saveRequest",value:function(e){var t={url:o.U,body:e};return Object(r.c)(t,!0).catch((function(e){return e}))}},{key:"reInitialise",value:function(e){var t={url:"".concat(o.Q,"/").concat(e)};return Object(r.c)(t,!0).catch((function(e){return e}))}},{key:"getBookingByNumber",value:function(e){var t={url:"".concat(o.a,"/requestDetails/booking/").concat(e)};return Object(r.b)(t,!0)}},{key:"getRequestByDeclaration",value:function(e){var t={url:"".concat(o.a,"/requestDetails/bookingByDeclaration/").concat(e)};return Object(r.b)(t,!0)}},{key:"getContainerRequest",value:function(e){var t={url:"".concat(o.a,"/requestDetails/containers/").concat(e)};return Object(r.b)(t,!0)}}]),e}();t.a=new i},844:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var a=n(0),c=n.n(a),r=n(244),o=n(350),i=n(636),s=n(777),u=n(596),l=n(25),d=n(804),m=Object(r.a)((function(e){return{root:{textAlign:"center",marginTop:e.spacing(5)}}}));function b(e){var t=m(),n=e.referenceNumber,r=e.success,b=Object(l.f)();return Object(a.useEffect)((function(){console.log("referenceNumber ::",n)}),[]),c.a.createElement(c.a.Fragment,null,"Y"===r&&c.a.createElement("div",{className:t.root},c.a.createElement("img",{src:"./success.svg"}),c.a.createElement("h1",null,"Success"),c.a.createElement("p",null," Your payment has been made"),c.a.createElement(o.a,{variant:"body2",component:"h4"},"An Email Confirmation will be sent to shortly with booking details"),c.a.createElement(o.a,{variant:"body3",component:"h5"},"Booking number#","".concat(n)),c.a.createElement("p",null,"Check your status by going to ",c.a.createElement(i.a,{textColor:"green",onClick:function(){b.push("/viewRequest")}}," My Booking ")," page "),c.a.createElement("p",null,c.a.createElement(i.a,{onClick:function(){s.a.downloadReceipt(n)}},"Download Receipt"))),"N"===r&&c.a.createElement("div",{className:t.root},c.a.createElement("img",{src:"./failure.svg"}),c.a.createElement("h1",{style:{color:"#EA2428"}},"Sorry,payment failed"),c.a.createElement(o.a,{variant:"body2",component:"h4"},"Unfortunately, we encounter an error while processing your payment for the booking "),c.a.createElement(o.a,{variant:"body2",component:"h4"},"Please check your payment details and try again"),c.a.createElement("br",null),c.a.createElement(u.a,{color:"secondary",variant:"contained",onClick:function(){d.a.reInitialise(n).then((function(e){console.log("response");var t={serviceOwnerID:e.data.dataItems[0].serviceOwnerID,serviceID:e.data.dataItems[0].serviceID,serviceChannel:e.data.dataItems[0].serviceChannel,licenseKey:e.data.dataItems[0].licenseKey,customerReferenceNumber:e.data.dataItems[0].customerReferenceNumber,serviceDescription:e.data.dataItems[0].serviceDescription,responseURL:e.data.dataItems[0].responseURL,serviceCost:e.data.dataItems[0].serviceCost,soTransactionID:e.data.dataItems[0].soTransactionID,documentationCharges:e.data.dataItems[0].documentationCharges,signature:e.data.dataItems[0].signature,popup:e.data.dataItems[0].popup,buEncryptionMode:e.data.dataItems[0].buEncryptionMode};console.log("dataVal",t),s.a.postToExternalSite(t,e.data.dataItems[0].gatewayUrl)})).catch((function(e){console.log("error")}))}}," Try Again")))}}}]);
//# sourceMappingURL=65.6fa61732.chunk.js.map