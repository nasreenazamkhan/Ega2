(this.webpackJsonpptms=this.webpackJsonpptms||[]).push([[28,40,61],{354:function(e,t,a){"use strict";a.r(t);var n=a(163);a.d(t,"default",(function(){return n.a}))},646:function(e,t,a){"use strict";var n=a(0),o=n.createContext();t.a=o},649:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},650:function(e,t,a){"use strict";var n=a(0),o=n.createContext();t.a=o},651:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}a.d(t,"a",(function(){return n}))},653:function(e,t,a){"use strict";var n=a(649);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=r.default.memo(r.default.forwardRef((function(t,a){return r.default.createElement(l.default,(0,o.default)({ref:a},t),e)})));0;return a.muiName=l.default.muiName,a};var o=n(a(660)),r=n(a(0)),l=n(a(354))},660:function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},a.apply(this,arguments)}e.exports=a},666:function(e,t,a){"use strict";var n=a(0),o=a.n(n);a(671);t.a=function(e){var t=e.title,a=e.message,n=e.icon,r=e.position,l=e.showToast;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"notification-container ".concat(r)},o.a.createElement("div",{className:"info-box"},o.a.createElement("div",{className:"icon bg-red"},o.a.createElement("i",{className:"material-icons"},n)),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"title"},t),o.a.createElement("div",{className:"message"},a)),o.a.createElement("div",{className:"col-md"},o.a.createElement("button",{style:{marginTop:"5px",fontSize:"25px"},type:"button",onClick:function(){l(!1)},className:"close","data-dismiss":"alert","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))))}},671:function(e,t,a){},673:function(e,t,a){"use strict";var n=a(1),o=a(3),r=a(0),l=(a(6),a(4)),c=a(349),i=a(5),s=r.forwardRef((function(e,t){var a=e.classes,i=e.className,s=e.raised,u=void 0!==s&&s,m=Object(o.a)(e,["classes","className","raised"]);return r.createElement(c.a,Object(n.a)({className:Object(l.a)(a.root,i),elevation:u?8:1,ref:t},m))}));t.a=Object(i.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(s)},676:function(e,t,a){"use strict";var n=a(651),o=a(41),r=a(0),l=a.n(r),c=a(647),i=a(672),s=a(669),u=a(736);t.a=l.a.memo((function(e){var t=Object(c.e)(e),a=Object(o.a)(t,3),m=a[0],p=(a[1],a[2],l.a.useRef(0),e.label),d=e.name,f=e.iconColor,b=e.defaultDate,g=(Object(n.a)(e,["label","name","iconColor","defaultDate"]),b||null);Object(r.useEffect)((function(){}),[]);var y=m.value;if(y&&y.length>0){var v=y.split("/")[0],E=y.split("/")[1],h=y.split("/")[2],O=new Date(h,E-1,v);O instanceof Date&&(g=O)}return l.a.createElement(c.a,{name:d},(function(e){var t=e.form,a=e.field,n=t.setFieldValue,o=(a.value,"");return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{utils:i.a},l.a.createElement(u.a,{fullWidth:!0,label:p,placeholder:p,value:g,variant:"inline",format:"dd/MM/yyyy",autoOk:!0,onChange:function(e){g=e,function(e){if(console.log(e),e&&"Invalid Date"!==e){var t=e.getDate(),a=(e.getMonth(),e.getFullYear());o=t+"/"+(e.getMonth()+1)+"/"+a,n(d,o)}console.log(o)}(e)},margin:"dense",inputVariant:"outlined",InputProps:{endAdornment:null,style:{fontSize:"16px",fontFamily:"Dubai Regular"}},InputLabelProps:{style:{fontSize:"16px",fontFamily:"Dubai Regular"}},KeyboardButtonProps:{style:{fontSize:"16px",color:f,padding:0}}})))}))}))},692:function(e,t,a){"use strict";var n=a(3),o=a(1),r=a(0),l=(a(6),a(4)),c=a(5),i=a(650),s=r.forwardRef((function(e,t){var a=e.classes,c=e.className,s=e.component,u=void 0===s?"table":s,m=e.padding,p=void 0===m?"default":m,d=e.size,f=void 0===d?"medium":d,b=e.stickyHeader,g=void 0!==b&&b,y=Object(n.a)(e,["classes","className","component","padding","size","stickyHeader"]),v=r.useMemo((function(){return{padding:p,size:f,stickyHeader:g}}),[p,f,g]);return r.createElement(i.a.Provider,{value:v},r.createElement(u,Object(o.a)({role:"table"===u?null:"table",ref:t,className:Object(l.a)(a.root,c,g&&a.stickyHeader)},y)))}));t.a=Object(c.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(o.a)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(s)},693:function(e,t,a){"use strict";var n=a(3),o=a(1),r=a(0),l=(a(6),a(4)),c=a(5),i=a(8),s=a(32),u=a(650),m=a(646),p=r.forwardRef((function(e,t){var a,c,s=e.align,p=void 0===s?"inherit":s,d=e.classes,f=e.className,b=e.component,g=e.padding,y=e.scope,v=e.size,E=e.sortDirection,h=e.variant,O=Object(n.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),x=r.useContext(u.a),j=r.useContext(m.a),k=j&&"head"===j.variant;b?(c=b,a=k?"columnheader":"cell"):c=k?"th":"td";var S=y;!S&&k&&(S="col");var C=g||(x&&x.padding?x.padding:"default"),N=v||(x&&x.size?x.size:"medium"),z=h||j&&j.variant,T=null;return E&&(T="asc"===E?"ascending":"descending"),r.createElement(c,Object(o.a)({ref:t,className:Object(l.a)(d.root,d[z],f,"inherit"!==p&&d["align".concat(Object(i.a)(p))],"default"!==C&&d["padding".concat(Object(i.a)(C))],"medium"!==N&&d["size".concat(Object(i.a)(N))],"head"===z&&x&&x.stickyHeader&&d.stickyHeader),"aria-sort":T,role:a,scope:S},O))}));t.a=Object(c.a)((function(e){return{root:Object(o.a)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(s.e)(Object(s.c)(e.palette.divider,1),.88):Object(s.a)(Object(s.c)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(p)},694:function(e,t,a){"use strict";var n=a(1),o=a(3),r=a(0),l=(a(6),a(4)),c=a(5),i=a(646),s={variant:"body"},u=r.forwardRef((function(e,t){var a=e.classes,c=e.className,u=e.component,m=void 0===u?"tbody":u,p=Object(o.a)(e,["classes","className","component"]);return r.createElement(i.a.Provider,{value:s},r.createElement(m,Object(n.a)({className:Object(l.a)(a.root,c),ref:t,role:"tbody"===m?null:"rowgroup"},p)))}));t.a=Object(c.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(u)},695:function(e,t,a){"use strict";var n=a(1),o=a(3),r=a(0),l=(a(6),a(4)),c=a(5),i=a(646),s=a(32),u=r.forwardRef((function(e,t){var a=e.classes,c=e.className,s=e.component,u=void 0===s?"tr":s,m=e.hover,p=void 0!==m&&m,d=e.selected,f=void 0!==d&&d,b=Object(o.a)(e,["classes","className","component","hover","selected"]),g=r.useContext(i.a);return r.createElement(u,Object(n.a)({ref:t,className:Object(l.a)(a.root,c,g&&{head:a.head,footer:a.footer}[g.variant],p&&a.hover,f&&a.selected),role:"tr"===u?null:"row"},b))}));t.a=Object(c.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(s.c)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(u)},718:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(41),o=a(0),r=a.n(o),l=a(5),c=a(808),i=a(244),s=a(909),u=a(883),m=Object(l.a)({root:{},indicator:{backgroundColor:"#0568AE",height:4},flexContainer:{borderBottom:"3.5px solid #E1E1E1"}})(s.a),p=Object(l.a)((function(e){return Object(c.a)({root:{textTransform:"none",color:"black",fontSize:"18px",fontFamily:"Dubai Medium",fontWeight:e.typography.fontWeightBold,textAlign:"left","&$selected":{color:"#0568AE",fontWeight:e.typography.fontWeightBold}},selected:{}})}))((function(e){return r.a.createElement(u.a,Object.assign({disableRipple:!0},e))})),d=Object(i.a)((function(e){return{root:{flexGrow:1},padding:{padding:e.spacing(3)},demo1:{backgroundColor:e.palette.background.paper},demo2:{backgroundColor:"#2e1534"}}}));function f(e){var t=d(),a=r.a.useState(e.defaultSelected?e.defaultSelected:0),o=Object(n.a)(a,2),l=o[0],c=o[1],i=e.labelList;return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.demo1},r.a.createElement(m,{value:l,onChange:function(t,a){c(a),e.onSelected(a)}},i.map((function(e){return r.a.createElement(p,{key:e,label:e})})))))}},724:function(e,t,a){"use strict";var n=a(0),o=a.n(n);a(731);t.a=function(e){var t=e.title,a=e.message,n=e.icon,r=e.position,l=e.showToast;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"notification-success ".concat(r)},o.a.createElement("div",{className:"info-boxSuccess"},o.a.createElement("div",{className:"icon bg-green"},o.a.createElement("i",{className:"material-icons"},n)),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"title"},t),o.a.createElement("div",{className:"message"},a)),o.a.createElement("div",{className:"col-md"},o.a.createElement("button",{style:{marginTop:"5px",fontSize:"25px"},type:"button",onClick:function(){l(!1)},className:"close","data-dismiss":"alert","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))))}},731:function(e,t,a){},736:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(29),o=a(0),r=(a(6),a(669)),l=a(4),c=(a(1),a(3),a(244)),i=a(675),s=a(697),u=(a(687),a(80),a(688)),m=(a(249),a(82),a(680),a(681),a(684),Object(c.a)({toolbar:{flexDirection:"column",alignItems:"flex-start"},toolbarLandscape:{padding:16},dateLandscape:{marginRight:16}},{name:"MuiPickersDatePickerRoot"})),p=function(e){var t=e.date,a=e.views,n=e.setOpenView,c=e.isLandscape,u=e.openView,p=Object(r.b)(),d=m(),f=Object(o.useMemo)((function(){return Object(s.d)(a)}),[a]),b=Object(o.useMemo)((function(){return Object(s.b)(a)}),[a]);return Object(o.createElement)(i.b,{isLandscape:c,className:Object(l.a)(!f&&d.toolbar,c&&d.toolbarLandscape)},Object(o.createElement)(i.c,{variant:f?"h3":"subtitle1",onClick:function(){return n("year")},selected:"year"===u,label:p.getYearText(t)}),!f&&!b&&Object(o.createElement)(i.c,{variant:"h4",selected:"date"===u,onClick:function(){return n("date")},align:c?"left":"center",label:p.getDatePickerHeaderText(t),className:Object(l.a)(c&&d.dateLandscape)}),b&&Object(o.createElement)(i.c,{variant:"h4",onClick:function(){return n("month")},selected:"month"===u,label:p.getMonthText(t)}))};function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var f=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},u.c,{openTo:"date",views:["year","date"]});function b(e){var t=Object(r.b)();return{getDefaultFormat:function(){return Object(s.c)(e.views,t)}}}var g=Object(i.g)({useOptions:b,Input:i.d,useState:i.i,DefaultToolbarComponent:p}),y=Object(i.g)({useOptions:b,Input:i.a,useState:i.e,DefaultToolbarComponent:p});g.defaultProps=f,y.defaultProps=f},744:function(e,t,a){"use strict";var n=a(649);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=(0,n(a(653)).default)(o.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=r},772:function(e,t,a){"use strict";var n=a(114),o=a(115),r=a(160),l=a(138),c=function(){function e(){Object(n.a)(this,e)}return Object(o.a)(e,[{key:"fetchSettlements",value:function(e,t){var a={url:"".concat(r.H,"?fromDate=").concat(e,"&toDate=").concat(t)};return Object(l.a)(a,!1)}},{key:"fetchInvoice",value:function(e){var t={url:"".concat(r.A,"?jobRefNo=").concat(e)};return Object(l.a)(t,!1)}},{key:"fetchInvoiceSubmittedJobs",value:function(){var e={url:"".concat(r.C)};return Object(l.a)(e,!1)}},{key:"approveInvoice",value:function(e){var t={url:r.b,body:{jobRefNo:e}};return Object(l.c)(t,!0).catch((function(e){return e}))}},{key:"rejectInvoice",value:function(e,t){var a={url:r.R,body:{jobRefNo:e,remarks:t}};return Object(l.c)(a,!0).catch((function(e){return e}))}},{key:"fetchInvoiceApprovedJobs",value:function(e,t){var a={url:"".concat(r.B,"?fromDate=").concat(e,"&toDate=").concat(t)};return Object(l.a)(a,!1)}},{key:"markJobAsPaid",value:function(e,t){var a={url:r.P,body:{jobRefNo:e,paymentRefNo:t}};return Object(l.c)(a,!0).catch((function(e){return e}))}},{key:"loadEmptyInContainers",value:function(){var e={url:r.O};return Object(l.a)(e,!1)}},{key:"updateTokenInDetails",value:function(e){var t={url:r.hb,body:e};return Object(l.c)(t,!0).catch((function(e){return e}))}},{key:"fetchExpiredCountForDashBoard",value:function(){var e={url:r.e};return Object(l.a)(e,!1)}},{key:"fetchPendingTokenJobCount",value:function(){var e={url:r.g};return Object(l.a)(e,!1)}}]),e}();t.a=new c},775:function(e,t,a){"use strict";var n=a(1),o=a(3),r=a(0),l=(a(6),a(4)),c=a(5),i=a(32),s=a(603),u=a(8),m=r.forwardRef((function(e,t){var a=e.edge,c=void 0!==a&&a,i=e.children,m=e.classes,p=e.className,d=e.color,f=void 0===d?"default":d,b=e.disabled,g=void 0!==b&&b,y=e.disableFocusRipple,v=void 0!==y&&y,E=e.size,h=void 0===E?"medium":E,O=Object(o.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return r.createElement(s.a,Object(n.a)({className:Object(l.a)(m.root,p,"default"!==f&&m["color".concat(Object(u.a)(f))],g&&m.disabled,"small"===h&&m["size".concat(Object(u.a)(h))],{start:m.edgeStart,end:m.edgeEnd}[c]),centerRipple:!0,focusRipple:!v,disabled:g,ref:t},O),r.createElement("span",{className:m.label},i))}));t.a=Object(c.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(i.c)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(i.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(i.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(m)},778:function(e,t,a){"use strict";var n=a(61),o=a(1),r=(a(6),a(165));var l=function(e){var t=function(t){var a=e(t);return t.css?Object(o.a)(Object(o.a)({},Object(r.a)(a,e(Object(o.a)({theme:t.theme},t.css)))),function(e,t){var a={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(a[n]=e[n])})),a}(t.css,[e.filterProps])):a};return t.propTypes={},t.filterProps=["css"].concat(Object(n.a)(e.filterProps)),t};var c=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=function(e){return t.reduce((function(t,a){var n=a(e);return n?Object(r.a)(t,n):t}),{})};return n.propTypes={},n.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),n},i=a(29),s=a(252);function u(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var m=function(e){var t=e.prop,a=e.cssProperty,n=void 0===a?e.prop:a,o=e.themeKey,r=e.transform,l=function(e){if(null==e[t])return null;var a=e[t],l=u(e.theme,o)||{};return Object(s.a)(e,a,(function(e){var t;return"function"===typeof l?t=l(e):Array.isArray(l)?t=l[e]||e:(t=u(l,e)||e,r&&(t=r(t))),!1===n?t:Object(i.a)({},n,t)}))};return l.propTypes={},l.filterProps=[t],l};function p(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var d=c(m({prop:"border",themeKey:"borders",transform:p}),m({prop:"borderTop",themeKey:"borders",transform:p}),m({prop:"borderRight",themeKey:"borders",transform:p}),m({prop:"borderBottom",themeKey:"borders",transform:p}),m({prop:"borderLeft",themeKey:"borders",transform:p}),m({prop:"borderColor",themeKey:"palette"}),m({prop:"borderRadius",themeKey:"shape"})),f=c(m({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),m({prop:"display"}),m({prop:"overflow"}),m({prop:"textOverflow"}),m({prop:"visibility"}),m({prop:"whiteSpace"})),b=c(m({prop:"flexBasis"}),m({prop:"flexDirection"}),m({prop:"flexWrap"}),m({prop:"justifyContent"}),m({prop:"alignItems"}),m({prop:"alignContent"}),m({prop:"order"}),m({prop:"flex"}),m({prop:"flexGrow"}),m({prop:"flexShrink"}),m({prop:"alignSelf"}),m({prop:"justifyItems"}),m({prop:"justifySelf"})),g=c(m({prop:"gridGap"}),m({prop:"gridColumnGap"}),m({prop:"gridRowGap"}),m({prop:"gridColumn"}),m({prop:"gridRow"}),m({prop:"gridAutoFlow"}),m({prop:"gridAutoColumns"}),m({prop:"gridAutoRows"}),m({prop:"gridTemplateColumns"}),m({prop:"gridTemplateRows"}),m({prop:"gridTemplateAreas"}),m({prop:"gridArea"})),y=c(m({prop:"position"}),m({prop:"zIndex",themeKey:"zIndex"}),m({prop:"top"}),m({prop:"right"}),m({prop:"bottom"}),m({prop:"left"})),v=c(m({prop:"color",themeKey:"palette"}),m({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),E=m({prop:"boxShadow",themeKey:"shadows"});function h(e){return e<=1?"".concat(100*e,"%"):e}var O=m({prop:"width",transform:h}),x=m({prop:"maxWidth",transform:h}),j=m({prop:"minWidth",transform:h}),k=m({prop:"height",transform:h}),S=m({prop:"maxHeight",transform:h}),C=m({prop:"minHeight",transform:h}),N=(m({prop:"size",cssProperty:"width",transform:h}),m({prop:"size",cssProperty:"height",transform:h}),c(O,x,j,k,S,C,m({prop:"boxSizing"}))),z=a(644),T=c(m({prop:"fontFamily",themeKey:"typography"}),m({prop:"fontSize",themeKey:"typography"}),m({prop:"fontStyle",themeKey:"typography"}),m({prop:"fontWeight",themeKey:"typography"}),m({prop:"letterSpacing"}),m({prop:"lineHeight"}),m({prop:"textAlign"})),w=a(3),D=a(0),P=a.n(D),R=a(4),F=a(101),L=a.n(F),I=a(601);function A(e,t){var a={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(a[n]=e[n])})),a}var B=a(117),M=function(e){var t=function(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.name,r=Object(w.a)(a,["name"]);var l,c=n,i="function"===typeof t?function(e){return{root:function(a){return t(Object(o.a)({theme:e},a))}}}:{root:t},s=Object(I.a)(i,Object(o.a)({Component:e,name:n||e.displayName,classNamePrefix:c},r));t.filterProps&&(l=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var u=P.a.forwardRef((function(t,a){var n=t.children,r=t.className,c=t.clone,i=t.component,u=Object(w.a)(t,["children","className","clone","component"]),m=s(t),p=Object(R.a)(m.root,r),d=u;if(l&&(d=A(d,l)),c)return P.a.cloneElement(n,Object(o.a)({className:Object(R.a)(n.props.className,p)},d));if("function"===typeof n)return n(Object(o.a)({className:p},d));var f=i||e;return P.a.createElement(f,Object(o.a)({ref:a,className:p},d),n)}));return L()(u,e),u}}(e);return function(e,a){return t(e,Object(o.a)({defaultTheme:B.a},a))}},_=l(c(d,f,b,g,y,v,E,N,z.b,T)),q=M("div")(_,{name:"MuiBox"});t.a=q},786:function(e,t,a){"use strict";var n=a(41),o=a(0),r=a.n(o),l=a(672),c=a(669),i=a(736),s=a(60);t.a=r.a.memo((function(e){var t,a=Object(s.f)(),u=a.errors,m=(a.getValues,a.setValue),p=(a.register,a.control),d=Object(o.useState)(null),f=Object(n.a)(d,2),b=f[0],g=f[1];Object(o.useEffect)((function(){var t=p.defaultValuesRef.current[e.name];if(console.log("date "+t),t&&t.length>0){var a=t.split("/")[0],n=t.split("/")[1],o=t.split("/")[2],r=new Date(o,n-1,a);r instanceof Date&&g(r)}}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{as:r.a.createElement(c.a,{utils:l.a},r.a.createElement(i.a,{label:e.label,placeholder:e.label,value:b,variant:"inline",format:"dd/MM/yyyy",inputVariant:"outlined",size:"small",autoOk:!0,error:!!u[e.name],helperText:null===(t=u[e.name])||void 0===t?void 0:t.message,onChange:function(t){console.log(t),g(t),function(t){if(console.log(t),t&&"Invalid Date"!==t){var n=t.getDate(),o=(t.getMonth(),t.getFullYear()),r=n+"/"+(t.getMonth()+1)+"/"+o;m(e.name,r),a.trigger(e.name),e.onChange(t)}}(t)},disablePast:!!e.disablePastDate&&e.disablePastDate,InputProps:{endAdornment:null,style:{fontSize:"16px",fontFamily:"Dubai Regular"}},InputLabelProps:{style:{fontSize:"16px",fontStyle:"oblique",fontFamily:"Dubai Regular"}},KeyboardButtonProps:{style:{fontSize:"16px",color:e.iconColor,padding:0}}})),name:e.name,control:p}))}))},787:function(e,t,a){"use strict";var n=a(649);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),r=(0,n(a(653)).default)(o.default.createElement("path",{d:"M6 19h12v2H6z"}),"Minimize");t.default=r},838:function(e,t,a){"use strict";var n=a(114),o=a(115),r=a(160),l=a(138),c=function(){function e(){Object(n.a)(this,e)}return Object(o.a)(e,[{key:"fetchPendingTokenJobs",value:function(){var e={url:"".concat(r.E)};return Object(l.a)(e,!1)}},{key:"fetchPendingPODJobs",value:function(){var e={url:"".concat(r.D)};return Object(l.a)(e,!1)}}]),e}();t.a=new c},849:function(e,t,a){"use strict";a.r(t);var n=a(41),o=a(0),r=a.n(o),l=a(673),c=a(596),i=a(775),s=a(742),u=a(692),m=a(694),p=a(695),d=a(693),f=a(588),b=a(349),g=a(350),y=a(778),v=a(592),E=a(744),h=a.n(E),O=a(787),x=a.n(O),j=a(138),k=a(160),S=a(666),C=(a(672),a(685),a(676),a(60)),N=a(786);t.default=r.a.memo((function(e){var t=r.a.useState(null),a=Object(n.a)(t,2),E=(a[0],a[1],r.a.useState("")),O=Object(n.a)(E,2),z=(O[0],O[1]),T=r.a.useState(""),w=Object(n.a)(T,2),D=(w[0],w[1]),P=Object(o.useState)(0),R=Object(n.a)(P,2),F=R[0],L=R[1],I=Object(o.useState)(!0),A=Object(n.a)(I,2),B=A[0],M=A[1],_=["pdf","doc","png","docx","jpg","jpeg"],q=Object(o.useState)(!1),V=Object(n.a)(q,2),K=V[0],H=V[1],J=Object(o.useState)(!1),W=Object(n.a)(J,2),U=W[0],$=W[1],Y=Object(C.e)({mode:"onChange",reValidateMode:"onChange",defaultValues:""});Object(o.useEffect)((function(){console.log("props in jobCard",e)}));var G=function(t){t.touched=!0,console.log("validate job:: ",t);var a=0;t.requestContainerList.map((function(e,t){e.tokenOut&&void 0!==e.tokenOutSlotFrom&&void 0!==e.tokenOutSlotTo&&e.tokenOutDate&&e.etokenDto?!0!==e.valid&&(e.valid=!0):(e.valid,e.valid=!1)})),t.requestContainerList.map((function(e,t){!0===e.valid&&a++})),a===t.requestContainerList.length?t.disabled=!1:t.disabled=!0;var n=0,o=0;e.jobs.map((function(e,t){void 0!==e.disabled&&!0===e.touched&&(n+=1,!1===e.disabled&&(o+=1))})),L(F+1),M(n!==o)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.b,Y,r.a.createElement(c.a,{style:{textTransform:"none",marginLeft:"1120px"},color:"primary",variant:"contained",disabled:B,onClick:function(){console.log("rrrrrr",e.jobs);var t=e.jobs.filter((function(e){return!1===e.disabled}));console.log("list of jobs for server",t);var a={url:"".concat(k.gb),body:t};Object(j.c)(a,!0).then((function(t){console.log("received response",t),M(!0),e.reRender()})).catch((function(e){}))}},"update"),e.jobs&&e.jobs.length>0?e.jobs.map((function(t,a){return r.a.createElement(l.a,{key:t.referenceNumber,style:{width:"1200px",marginTop:"20px"}},r.a.createElement("div",{className:"row"},r.a.createElement(y.a,{style:{width:"2rem",height:"2rem",color:"white",textAlign:"center",marginTop:"5px",backgroundColor:"#0E1B3D",marginLeft:"40px",border:"2px solid #ccc"}},a+1),r.a.createElement("div",{className:"col"},r.a.createElement(v.a,null,"Job Number#",t.referenceNumber)),r.a.createElement("div",{className:"col-md",style:{marginLeft:"900px"}},r.a.createElement(i.a,{style:{color:"black"},onClick:function(){e.onExpandClicked(t),H(!1),$(!1)}}," ",t.open?r.a.createElement(x.a,null):r.a.createElement(h.a,null)," "))),r.a.createElement(s.a,{item:!0,container:!0,xs:12,sm:!0,spacing:1},r.a.createElement(s.a,{item:!0,xs:4,sm:2},r.a.createElement(v.a,{style:{fontSize:"13px",color:"black",marginLeft:"20px"}},"Consignee Name"),r.a.createElement(v.a,{style:{fontSize:"13px",color:"black",marginLeft:"20px"}},t.consigneeName)),r.a.createElement(s.a,{item:!0,xs:4,sm:2},r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},"Truck Number"),r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},t.vehicleRegNo)),r.a.createElement(s.a,{item:!0,xs:4,sm:2},r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},r.a.createElement("img",{src:"./location-pin.svg"})," ",t.dropAddress)),r.a.createElement(s.a,{item:!0,xs:4,sm:2},r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},"Requester Company Name"),r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},t.requestedBy)),r.a.createElement(s.a,{item:!0,xs:4,sm:2},r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},"Contact Person"),r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},t.requesterContactName)),r.a.createElement(s.a,{item:!0,xs:4,sm:2},r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},"Contact Number"),r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},t.requesterContactNumber))),t.open&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{style:{borderTop:"1px solid grey"}},r.a.createElement(d.a,{style:{borderBottom:"none"}},r.a.createElement(v.a,{style:{fontSize:"13px",color:"grey"}},"Container Number")),r.a.createElement(d.a,{style:{borderBottom:"none"}},r.a.createElement(v.a,{style:{fontSize:"13px",color:"grey"}},"Declaration#")),r.a.createElement(d.a,{style:{borderBottom:"none"}},r.a.createElement(v.a,{style:{fontSize:"13px",color:"grey"}},"Booking#")),r.a.createElement(d.a,{style:{borderBottom:"none"}},r.a.createElement(v.a,{style:{fontSize:"13px",color:"grey"}},"Pickup")),r.a.createElement(d.a,{style:{borderBottom:"none"}},r.a.createElement(v.a,{style:{fontSize:"13px",color:"grey"}},"Date And Time")),r.a.createElement(d.a,{style:{borderBottom:"none"}},r.a.createElement(v.a,{style:{fontSize:"13px",color:"grey"}},"Token Number")),r.a.createElement(d.a,{style:{borderBottom:"none"}},r.a.createElement(v.a,{style:{fontSize:"13px",color:"grey"}},"Token Slot")),r.a.createElement(d.a,{style:{borderBottom:"none"}},r.a.createElement(v.a,{style:{fontSize:"13px",color:"grey"}},"eToken"))),t.requestContainerList.map((function(e,a){return r.a.createElement(p.a,{key:e.container_number},r.a.createElement(d.a,null,r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},e.container_number)),r.a.createElement(d.a,null,r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},e.boeNumber)),r.a.createElement(d.a,null,r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},e.requestDetailsNumber)),r.a.createElement(d.a,null,r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},r.a.createElement("img",{src:"./location-pin.svg"})," ",e.pickupLocation)),r.a.createElement(d.a,null,r.a.createElement(v.a,{style:{fontSize:"13px",color:"black"}},e.date_time)),r.a.createElement(d.a,null,r.a.createElement(f.a,{id:"outlined-basic",label:"Token#",variant:"outlined",size:"small",defaultValue:e.tokenOut,onChange:function(a){e.tokenOut=a.target.value,console.log("blurred",e.tokenOut),G(t)}})),r.a.createElement(d.a,null,r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,xs:5,style:{marginTop:"20px"}},r.a.createElement(N.a,{name:"dateTime",label:"",iconColor:"#1FA5FF",disablePastDate:!0,onChange:function(a){e.tokenOutDate=Y.getValues().dateTime,G(t),console.log("selected date ::::",a)}})),r.a.createElement(s.a,{item:!0,xs:1},r.a.createElement("hr",{style:{width:"0px",height:"50px",backgroundColor:"#D3D3D3"}})),r.a.createElement(s.a,{item:!0,xs:2},r.a.createElement(f.a,{id:"toTime",type:"time",InputLabelProps:{shrink:!0},inputProps:{size:"small"},defaultValue:e.tokenOutSlotFrom,onChange:function(a){D(a.target.value),e.tokenOutSlotFrom=a.target.value,G(t)}}),r.a.createElement(f.a,{id:"fromTime",type:"time",size:"small",inputProps:{size:"small"},defaultValue:e.tokenOutSlotTo,onChange:function(a){z(a.target.value),e.tokenOutSlotTo=a.target.value,G(t)}})))),r.a.createElement(d.a,null,r.a.createElement("label",{htmlFor:e.container_number},r.a.createElement("input",{type:"file",name:e.container_number,id:e.container_number,style:{display:"none"},onChange:function(a){var n=a.target.files[0];a.target.value="",console.log("???????????",e),new Promise((function(e,t){var a=new FileReader;a.onload=function(t){e(t.target.result)},a.onerror=function(e){t(e)},a.readAsDataURL(n)})).then((function(a){var o=a.split(","),r=o[0].replace("data:","").replace(";base64",""),l={};console.log("file type::",r),console.log("file size::",n.size),_.some((function(e){return r.split("/")[1]===e}))?n.size<=5e5?(l.fileContent=o[1],l.fileType=r,l.tokenType="FCL_OUT",l.fileName=n.name,e.etokenDto=l,console.log("container::",e),console.log("etoken::",e.etokenDto),e.upload=!0,G(t),H(!1),$(!1)):(console.log("file size error"),e.upload=!1,G(t),H(!0)):(console.log("file format error"),e.upload=!1,G(t),$(!0))}))}}),!e.upload&&r.a.createElement("img",{src:"./token_upload.svg"}),e.upload&&r.a.createElement("img",{src:"./token_success.svg"}),K&&r.a.createElement(S.a,{icon:"error",title:"File size error",message:"Allowed maximum size is 500 KB",showToast:function(){H(!1)},position:"top-right"}),U&&r.a.createElement(S.a,{icon:"error",title:"File format not supported",message:"*Only files with the following extensions are allowed *.pdf,.doc,.png,.jpg,.jpeg  ",showToast:function(){$(!1)},position:"top-right"}))))}))))))})):r.a.createElement(b.a,{elevation:5,style:{borderRadius:8,padding:"30px",marginTop:20,minWidth:"760px",minHeight:"100px",color:"#FF7171"}},r.a.createElement(s.a,{container:!0,direction:"row",spacing:5},r.a.createElement(s.a,{item:!0,sm:12,xs:12},r.a.createElement(g.a,{variant:"subtitle1",style:{fontSize:"16px",textAlign:"center"}},r.a.createElement("b",null,"No records found")))))))}))},915:function(e,t,a){"use strict";a.r(t);var n=a(19),o=a.n(n),r=a(42),l=a(41),c=a(0),i=a.n(c),s=a(838),u=a(849),m=a(772),p=a(673),d=a(775),f=a(742),b=a(692),g=a(694),y=a(695),v=a(693),E=a(588),h=a(778),O=a(592),x=a(744),j=a.n(x),k=a(787),S=a.n(k),C=(a(672),a(60)),N=a(786),z=a(666);var T=i.a.memo((function(e){var t=e.job,a=Object(c.useState)(0),n=Object(l.a)(a,2),o=n[0],r=n[1],s=i.a.useState(null),u=Object(l.a)(s,2),m=(u[0],u[1]),x=["pdf","doc","png","docx","jpg","jpeg"],k=Object(c.useState)(!1),T=Object(l.a)(k,2),w=T[0],D=T[1],P=Object(c.useState)(!1),R=Object(l.a)(P,2),F=R[0],L=R[1],I=Object(C.e)({mode:"onChange",reValidateMode:"onChange",defaultValues:""}),A=function(a){var n=t.requestContainerList.find((function(e){return e.container_number===a}));n.tokenInDate&&n.tokenIn&&n.tokenInSlotFrom&&n.tokenInSlotTo&&n.etokenDto?n.valid||(n.valid=!0,e.updateJobList(t.referenceNumber,n)):!0===n.valid&&(n.valid=!1,e.updateJobList(t.referenceNumber,n))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(C.b,I,i.a.createElement(p.a,{key:t.referenceNumber,style:{width:"1200px",marginTop:"20px"}},i.a.createElement("div",{className:"row"},i.a.createElement(h.a,{style:{width:"2rem",height:"2rem",color:"white",textAlign:"center",marginTop:"5px",backgroundColor:"#0E1B3D",marginLeft:"40px",border:"2px solid #ccc"}},e.index+1),i.a.createElement("div",{className:"col-md"},i.a.createElement(O.a,null,"Job Number#",t.referenceNumber)),i.a.createElement("div",{className:"col-md"},i.a.createElement(d.a,{style:{color:"black",marginLeft:"450px"},onClick:function(){t.open=!t.open,r(o+1),D(!1),L(!1)}}," ",t.open?i.a.createElement(S.a,null):i.a.createElement(j.a,null)," "))),i.a.createElement(f.a,{item:!0,container:!0,xs:12,sm:!0,spacing:1},i.a.createElement(f.a,{item:!0,xs:4,sm:2},i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},"Consignee Name"),i.a.createElement(O.a,{style:{fontSize:"13px",color:"black",marginTop:"2px"}},t.contactDetails)),i.a.createElement(f.a,{item:!0,xs:4,sm:2},i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},"Total Containers"),i.a.createElement(O.a,{style:{fontSize:"13px",color:"black",marginTop:"2px"}},t.noOfContainers)),i.a.createElement(f.a,{item:!0,xs:4,sm:2},i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},"FCL OUT Truck"),i.a.createElement(O.a,{style:{fontSize:"13px",color:"black",marginTop:"2px"}},t.vehicleRegNo)),i.a.createElement(f.a,{item:!0,xs:4,sm:2},i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},i.a.createElement("img",{src:"./location-pin.svg"})," ",t.dropAddress)),i.a.createElement(f.a,{item:!0,xs:4,sm:2},i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},"Requester Company Name"),i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},t.requestedBy)),i.a.createElement(f.a,{item:!0,xs:4,sm:2},i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},"Contact Person"),i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},t.requesterContactName)),i.a.createElement(f.a,{item:!0,xs:4,sm:2},i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},"Contact Number"),i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},t.requesterContactNumber))),t.open&&i.a.createElement(i.a.Fragment,null,i.a.createElement("hr",{style:{backgroundColor:"#D3D3D3"}}),i.a.createElement(b.a,{size:"small"},i.a.createElement(g.a,null,i.a.createElement(y.a,null,i.a.createElement(v.a,{style:{borderBottom:"none"}},i.a.createElement(O.a,{style:{fontSize:"13px",color:"grey"}},"Container Number")),i.a.createElement(v.a,{style:{borderBottom:"none"}},i.a.createElement(O.a,{style:{fontSize:"13px",color:"grey"}},"Declaration#")),i.a.createElement(v.a,{style:{borderBottom:"none"}},i.a.createElement(O.a,{style:{fontSize:"13px",color:"grey"}},"Booking#")),i.a.createElement(v.a,{style:{borderBottom:"none"}},i.a.createElement(O.a,{style:{fontSize:"13px",color:"grey"}},"MT IN Truck")),i.a.createElement(v.a,{style:{borderBottom:"none"}},i.a.createElement(O.a,{style:{fontSize:"13px",color:"grey"}},"Date and Time")),i.a.createElement(v.a,{style:{borderBottom:"none"}},i.a.createElement(O.a,{style:{fontSize:"13px",color:"grey"}},"Token Number")),i.a.createElement(v.a,{style:{borderBottom:"none"}},i.a.createElement(f.a,{container:!0,spacing:2},i.a.createElement(f.a,{item:!0,xs:6,style:{marginTop:"20px"}},i.a.createElement(O.a,{style:{fontSize:"13px",color:"grey"}},"Token Time Slot")))),i.a.createElement(v.a,{style:{borderBottom:"none"}},i.a.createElement(f.a,{item:!0,style:{position:"fixed",marginLeft:"80px"}},i.a.createElement(O.a,{style:{fontSize:"13px",color:"grey"}},"eToken")))),t.requestContainerList.map((function(e){return i.a.createElement(y.a,{key:e.container_number},i.a.createElement(v.a,null,i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},e.container_number)),i.a.createElement(v.a,null,i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},e.boeNumber)),i.a.createElement(v.a,null,i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},e.requestDetailsNumber)),i.a.createElement(v.a,null,i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},e.mtTruck)),i.a.createElement(v.a,null,i.a.createElement(O.a,{style:{fontSize:"13px",color:"black"}},e.requestTimeInSlot)),i.a.createElement(v.a,null,i.a.createElement(E.a,{id:"outlined-basic",label:"Token#",variant:"outlined",size:"small",onChange:function(t){e.tokenIn=t.target.value,console.log("blurred",e.tokenIn),A(e.container_number)}})),i.a.createElement(v.a,{colSpan:"4"},i.a.createElement(f.a,{container:!0,spacing:2},i.a.createElement(f.a,{item:!0,xs:6,style:{marginTop:"20px"}},i.a.createElement(N.a,{name:"dateTime",label:"",iconColor:"#1FA5FF",disablePastDate:!0,onChange:function(t){e.tokenInDate=I.getValues().dateTime,m(I.getValues().dateTime),A(e.container_number),console.log("selected date ::::",t)}})),i.a.createElement(f.a,{item:!0,xs:1},i.a.createElement("hr",{style:{width:"0px",height:"50px",backgroundColor:"#D3D3D3"}})),i.a.createElement(f.a,{item:!0,xs:2},i.a.createElement(E.a,{id:"toTime",type:"time",InputLabelProps:{shrink:!0},inputProps:{size:"small"},onChange:function(t){e.tokenInSlotFrom=t.target.value,A(e.container_number)}}),i.a.createElement(E.a,{id:"fromTime",type:"time",size:"small",inputProps:{size:"small"},onChange:function(t){e.tokenInSlotTo=t.target.value,A(e.container_number)}})))),i.a.createElement(v.a,null,i.a.createElement(f.a,{item:!0,style:{position:"relative",marginLeft:"25px",marginTop:"5px"}},i.a.createElement("label",{htmlFor:e.container_number},i.a.createElement("input",{type:"file",name:e.container_number,id:e.container_number,style:{display:"none"},onChange:function(t){var a=t.target.files[0];t.target.value="",new Promise((function(e,t){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.onerror=function(e){t(e)},n.readAsDataURL(a)})).then((function(t){var n=t.split(","),l=n[0].replace("data:","").replace(";base64",""),c={};e.etokenDto="",x.some((function(e){return l.split("/")[1]===e}))?a.size<=5e5?(c.fileContent=n[1],c.fileType=l,c.tokenType="EMPTY_IN",c.fileName=a.name,e.etokenDto=c,console.log("container::",e),console.log("etoken::",e.etokenDto),r(o+1),A(e.container_number),D(!1),L(!1)):(D(!0),r(o+1)):(L(!0),r(o+1))}))}}),e.etokenDto&&i.a.createElement("img",{src:"./token_success.svg"}),!e.etokenDto&&i.a.createElement("img",{src:"./token_upload.svg"}),w&&i.a.createElement(z.a,{icon:"error",title:"File size error",message:"Allowed maximum size is 500 KB",showToast:function(){D(!1)},position:"top-right"}),F&&i.a.createElement(z.a,{icon:"error",title:"File format not supported",message:"*Only files with the following extensions are allowed *.pdf,.doc,.png,.jpg,.jpeg  ",showToast:function(){L(!1)},position:"top-right"})))))}))))))))})),w=a(596),D=a(724),P=a(349),R=a(350);var F=i.a.memo((function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),u=Object(l.a)(s,2),p=u[0],d=u[1],b=Object(c.useState)([]),g=Object(l.a)(b,2),y=g[0],v=(g[1],Object(c.useState)(null)),E=Object(l.a)(v,2),h=E[0],O=E[1];return Object(c.useEffect)((function(){(function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.a.loadEmptyInContainers().then((function(e){"fail"===e.status?n([]):n(e.data.dataItems)})).catch((function(){console.log("error")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"}," "),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(w.a,{variant:"contained",color:"secondary",style:{float:"right"},disabled:!p,onClick:function(){m.a.updateTokenInDetails({requestContainerList:y}).then((function(e){e.isAxiosError?console.log("error occured during processing request"):(d(!1),y.forEach((function(e,t){var n=a.find((function(t){return t.referenceNumber===e.jobRefNo})),o=n.requestContainerList.findIndex((function(t){return t.container_number===e.container_number}));n.requestContainerList.splice(o,1),n.noOfContainers=n.noOfContainers-1;var r=a.findIndex((function(t){return t.referenceNumber===e.jobRefNo}));0===n.noOfContainers?a.splice(r,1):a[r]=n,O("APPROVE")})))})).catch((function(){console.log("error")}))}},"Update"))),a&&a.length>0?a.map((function(e,t){return i.a.createElement(T,{job:e,key:e.referenceNumber,index:t,updateJobList:function(e,t){!function(e,t){!0===t.valid?(t.jobRefNo=e,y.push(t),d(0!==y.length)):(y.splice(y.findIndex((function(a){return a.container_number===t.container_number&&t.jobRefNo===e}))),d(0!==y.length))}(e,t)}})})):i.a.createElement(P.a,{elevation:5,style:{borderRadius:8,padding:"30px",marginTop:20,minWidth:"760px",minHeight:"100px",color:"#FF7171"}},i.a.createElement(f.a,{container:!0,direction:"row",spacing:5},i.a.createElement(f.a,{item:!0,sm:12,xs:12},i.a.createElement(R.a,{variant:"subtitle1",style:{fontSize:"16px",textAlign:"center"}},i.a.createElement("b",null,"No records found"))))),"APPROVE"===h&&i.a.createElement(D.a,{icon:"check_circle",title:"Token assigned successfully",message:"*Item moved to transporter active job pool",showToast:function(){O(!1)},position:"top-right"}))})),L=a(718);t.default=i.a.memo((function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],m=Object(c.useState)(0),p=Object(l.a)(m,2),d=p[0],f=p[1],b=Object(c.useState)("FCL OUT"),g=Object(l.a)(b,2),y=g[0],v=g[1],E=Object(c.useState)([]),h=Object(l.a)(E,2),O=(h[0],h[1]),x=Object(c.useState)(0),j=Object(l.a)(x,2),k=j[0],S=j[1],C=Object(c.useState)(0),N=Object(l.a)(C,2),z=(N[0],N[1],Object(c.useState)(0)),T=Object(l.a)(z,2),w=T[0],D=T[1],P=Object(c.useState)(["FCL OUT","EMPTY IN"]),R=Object(l.a)(P,2),I=R[0];return R[1],Object(c.useEffect)((function(){(function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.a.fetchPendingTokenJobs().then((function(e){e.isAxiosError?n([]):(console.log("response in ::",e),n(e),console.log("length",e.length))})).catch((function(e){console.log("error")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[w]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("h2",{style:{color:"#EA2428"}},"Assign Token"),i.a.createElement(L.a,{labelList:I,onSelected:function(e){console.log("selected",e),0===e&&(v("FCL OUT"),O([]),S(k+1)),1===e&&(v("EMPTY IN"),O([]),S(k+1))}}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},"FCL OUT"===y&&i.a.createElement(u.default,{jobs:a,onExpandClicked:function(e){!function(e){e.open=!e.open,f(d+1)}(e)},validate:function(e){!function(e){console.log("validate job:: ",e);var t=0;e.requestContainerList.map((function(e,t){e.tokenOut&&void 0!==e.tokenOutSlotFrom&&void 0!==e.tokenOutSlotTo&&e.tokenOutDate&&e.etokenDto?!0!==e.valid&&(e.valid=!0):(e.valid,e.valid=!1)})),e.requestContainerList.map((function(e,a){!0===e.valid&&t++})),t===e.requestContainerList.length&&(e.disable=!1,f(d+1))}(e)},reRender:function(){D(w+1)}}),"EMPTY IN"===y&&i.a.createElement(F,null))))}))}}]);
//# sourceMappingURL=28.40c580a8.chunk.js.map