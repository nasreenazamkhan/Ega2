(this.webpackJsonpptms=this.webpackJsonpptms||[]).push([[67],{722:function(e,a,t){"use strict";var n=t(103),r=t.n(n),c=t(39);a.a={upload:function(e,a,t){var n=new FormData;n.append("file",e);var l={url:"/ptms/app/api/secure/fileUpload/upload",body:n},s={headers:{access_token:Object(c.b)(),"content-type":"multipart/form-data"},params:{locale:"en",paramDto:{upload:a.uploadType,referenceNumber:a.referenceNumber,dpwTransactionId:a.dpwTransactionId,boeNumber:a.boeNumber}},onUploadProgress:t};return r.a.post(l.url,l.body,s).then((function(e){return Object(c.a)(),e.data})).catch((function(e){return Object(c.a)(),e}))},getFiles:function(){var e="ptms/app/api/secure/fileUpload/files",a={headers:{access_token:Object(c.b)()},params:{locale:"en"}};return r.a.get(e,a)}}},902:function(e,a,t){"use strict";t.r(a);var n=t(41),r=t(0),c=t.n(r),l=t(722);t(770);a.default=function(){var e=Object(r.useState)(void 0),a=Object(n.a)(e,2),t=a[0],s=a[1],o=Object(r.useState)(void 0),u=Object(n.a)(o,2),i=u[0],d=u[1],p=Object(r.useState)(0),m=Object(n.a)(p,2),b=m[0],f=m[1],v=Object(r.useState)(""),h=Object(n.a)(v,2),g=h[0],j=h[1],O=Object(r.useState)([]),E=Object(n.a)(O,2),N=E[0],w=E[1];Object(r.useEffect)((function(){l.a.getFiles().then((function(e){w(e.data)}))}),[]);return c.a.createElement("div",null,i&&c.a.createElement("div",{className:"progress"},c.a.createElement("div",{className:"progress-bar",role:"progressbar","aria-valuenow":b,"aria-valuemin":"0","aria-valuemax":"100",style:{width:b+"%"}},b)),c.a.createElement("label",{className:"btn btn-default"},c.a.createElement("input",{type:"file",onChange:function(e){s(e.target.files)}})),c.a.createElement("button",{className:"btn btn-success",disabled:!t,onClick:function(){var e=t[0];f(60),d(e),l.a.upload(e,(function(e){f(Math.round(100*e.loaded/e.total))})).then((function(e){return j(e.data.message),l.a.getFiles()})).then((function(e){w(e.data)})).catch((function(){f(0),j("Could not upload the file!"),d(void 0)})),s(void 0)}},"Upload"),c.a.createElement("div",{className:"alert alert-light",role:"alert"},g),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},"List of Files"),c.a.createElement("ul",{className:"list-group list-group-flush"},N&&N.map((function(e,a){return c.a.createElement("li",{className:"list-group-item",key:a},c.a.createElement("a",{href:e.url},e.name))})))))}}}]);
//# sourceMappingURL=67.473efbf0.chunk.js.map