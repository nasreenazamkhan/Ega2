(this.webpackJsonpptms=this.webpackJsonpptms||[]).push([[47],{666:function(e,a,t){"use strict";var l=t(0),n=t.n(l);t(671);a.a=function(e){var a=e.title,t=e.message,l=e.icon,c=e.position,r=e.showToast;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"notification-container ".concat(c)},n.a.createElement("div",{className:"info-box"},n.a.createElement("div",{className:"icon bg-red"},n.a.createElement("i",{className:"material-icons"},l)),n.a.createElement("div",{className:"content"},n.a.createElement("div",{className:"title"},a),n.a.createElement("div",{className:"message"},t)),n.a.createElement("div",{className:"col-md"},n.a.createElement("button",{style:{marginTop:"5px",fontSize:"25px"},type:"button",onClick:function(){r(!1)},className:"close","data-dismiss":"alert","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))))}},671:function(e,a,t){},696:function(e,a,t){},717:function(e,a,t){"use strict";t(651),t(41),t(0),t(696),t(775),t(587),t(732),t(60)},722:function(e,a,t){"use strict";var l=t(103),n=t.n(l),c=t(39);a.a={upload:function(e,a,t){var l=new FormData;l.append("file",e);var r={url:"/ptms/app/api/secure/fileUpload/upload",body:l},o={headers:{access_token:Object(c.b)(),"content-type":"multipart/form-data"},params:{locale:"en",paramDto:{upload:a.uploadType,referenceNumber:a.referenceNumber,dpwTransactionId:a.dpwTransactionId,boeNumber:a.boeNumber}},onUploadProgress:t};return n.a.post(r.url,r.body,o).then((function(e){return Object(c.a)(),e.data})).catch((function(e){return Object(c.a)(),e}))},getFiles:function(){var e="ptms/app/api/secure/fileUpload/files",a={headers:{access_token:Object(c.b)()},params:{locale:"en"}};return n.a.get(e,a)}}},737:function(e,a,t){"use strict";t.r(a);var l=t(41),n=t(0),c=t.n(n),r=(t(696),t(816)),o=t(783),i=t(244),s=t(722),m=t(738),p=(t(770),t(742)),d=(t(666),t(25)),u=Object(i.a)((function(e){return{root:{flexGrow:3},menuButton:{marginRight:e.spacing(100)},title:{flexGrow:1},input:{display:"none"},center:{display:"none"}}}));a.default=function(e){console.log("props in upload document",e);var a=u(),t=Object(n.useState)(void 0),i=Object(l.a)(t,2),E=i[0],g=i[1],f=Object(n.useState)(void 0),b=Object(l.a)(f,2),v=b[0],h=b[1],N=Object(n.useState)(0),x=Object(l.a)(N,2),y=x[0],w=x[1],O=Object(n.useState)(""),j=Object(l.a)(O,2),S=j[0],C=j[1],P=Object(n.useState)(0),T=Object(l.a)(P,2),U=(T[0],T[1]),D=["pdf","doc","png","docx","jpg","jpeg"],k=e.popUpParams.uploadType,A=Object(n.useState)(!1),F=Object(l.a)(A,2),z=F[0],B=F[1],R=Object(n.useState)(!1),W=Object(l.a)(R,2),_=W[0],I=W[1],L=(Object(d.f)(),function(e){g(e.target.files)});Object(n.useEffect)((function(){if(E){I(!1),B(!1);var a=E[0],t=a.name.split(".")[1];D.some((function(e){return t===e}))?a.size<=5e5?(w(20),h(a),s.a.upload(a,e.popUpParams,(function(e){w(Math.round(100*e.loaded/e.total))})).then((function(a){a.isAxiosError?(console.log("error"),w(0),C("Could not upload the file!"),h(void 0)):(console.log("response success"),U(1),e.onSuccess(a.data.dataItems[0]))})).catch((function(){console.log("error"),w(0),C("Could not upload the file!"),h(void 0)})),g(void 0)):B(!0):I(!0)}}),[E]);var M=function(){return 100===y?c.a.createElement(o.a,null,c.a.createElement("label",{for:"image"},c.a.createElement("input",{type:"file",name:"image",id:"image",className:a.center}),"invoice"===k&&c.a.createElement("img",{src:"./uploaded_invoice.png",style:{position:"relative",marginLeft:"120%",width:"80%"}}),"POD"===k&&c.a.createElement("img",{src:"./uploaded_pod.png",style:{position:"relative",marginLeft:"120%",width:"80%"}}),c.a.createElement("div",null))):c.a.createElement(o.a,null,c.a.createElement("label",{for:"image"},c.a.createElement("input",{type:"file",name:"image",id:"image",className:a.center,onChange:L}),"invoice"===k&&c.a.createElement("img",{src:"./upload_invoice.png",style:{position:"relative",marginLeft:"120%",width:"80%"}}),"POD"===k&&c.a.createElement("img",{src:"./upload_pod.png",style:{position:"relative",marginLeft:"120%",width:"80%"}})))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:a.root},c.a.createElement(r.a,{position:"static",style:{position:"relative",marginTop:"100px",height:"100px",centerTitle:!0,backgroundColor:"#0E1B3D"}},c.a.createElement(M,null))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),v&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4"}),c.a.createElement("div",{className:"col-md-5"},c.a.createElement(p.a,{container:!0},c.a.createElement(p.a,{item:!0,xs:12},c.a.createElement(m.a,{variant:"danger",now:y})),c.a.createElement(p.a,{item:!0,xs:11},v.name),c.a.createElement(p.a,{item:!0,xs:1},y,"%"))))),S&&c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-5"}),c.a.createElement("div",{className:"col-md-3"},c.a.createElement("p",{style:{color:"#FF0000"}},S))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-5"}),c.a.createElement("div",{className:"col-md-5"},z&&c.a.createElement("p",{style:{color:"#C62926"}},"Allowed maximum size is 500 KB "),_&&c.a.createElement("p",{style:{color:"#C62926"}},"File format is not supported "))),0===y&&!S&&c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-3"}),c.a.createElement("div",{className:"col-md-5"},c.a.createElement("p",{style:{color:"#0E1B3D"}},"Only files with the following extensions are allowed *.pdf,.doc,.png,.jpg,.jpeg  ")),c.a.createElement("div",{className:"col-md-3"},c.a.createElement("p",null,"0%"))),e.popUpParams.status&&0===y&&c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-2"}),c.a.createElement("div",{className:"col-md-8"},c.a.createElement("p",{style:{textAlign:"center",position:"relative",color:"#0E1B3D"}},"Uploaded ",k," has been rejected by admin, please upload a new updated copy for verification."),c.a.createElement("p",{style:{textAlign:"center",position:"relative",color:"red"}},"Reason: ",e.popUpParams.status.remarks))),(!e.popUpParams.status||e.popUpParams.status&&100===y)&&c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-2"}),c.a.createElement("div",{className:"col-md-8"},c.a.createElement("p",{style:{textAlign:"center",position:"relative",color:"#0E1B3D"}},e.popUpParams.customMessage?e.popUpParams.customMessage:"Please note: Document will be sent to DT admin after uploading and\n              will notify you if gets successfully verified"))),void 0!==e.popUpParams.message&&100===y&&c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-2"}),c.a.createElement("div",{className:"col-md-8"},c.a.createElement("p",{style:{textAlign:"center",position:"relative",color:"grey"}},e.popUpParams.message[0]),c.a.createElement("p",{style:{textAlign:"center",position:"relative",fontColor:"#0E1B3D",fontWeight:"bold"}},e.popUpParams.message[1],e.popUpParams.message[2]),c.a.createElement("br",null),c.a.createElement("p",{style:{textAlign:"center",position:"relative",color:"#0E1B3D"}},e.popUpParams.message[3]," "),c.a.createElement("p",null,e.popUpParams.message[4]))))}},743:function(e,a,t){},785:function(e,a,t){"use strict";t.d(a,"a",(function(){return N}));var l=t(41),n=t(651),c=t(0),r=t.n(c),o=t(5),i=t(597),s=t(598),m=t(599),p=t(600),d=t(775),u=t(652),E=t.n(u),g=t(350),f=(t(743),t(717),t(737)),b=Object(o.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var a=e.children,t=e.classes,l=e.onClose,c=Object(n.a)(e,["children","classes","onClose"]);return r.a.createElement(s.a,Object.assign({disableTypography:!0,className:t.root},c),r.a.createElement(g.a,{variant:"h6"},a),l?r.a.createElement(d.a,{"aria-label":"close",className:t.closeButton,onClick:l},r.a.createElement(E.a,null)):null)})),v=Object(o.a)((function(e){return{root:{padding:e.spacing(2)}}}))(m.a),h=Object(o.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(p.a);function N(e){var a=r.a.useState(!0),t=Object(l.a)(a,2),n=t[0],c=t[1],o=r.a.useState(!1),s=Object(l.a)(o,2),m=s[0],p=s[1],d=r.a.useState(),u=Object(l.a)(d,2),E=u[0],g=u[1],N=r.a.useState(0),x=Object(l.a)(N,2),y=(x[0],x[1],function(){"invoice"===e.popUpParams.uploadType&&!0===m?e.redirectToClaim(E):e.onClose(),c(!1)});return r.a.createElement("div",null,r.a.createElement(i.a,{fullWidth:!0,maxWidth:"md",onClose:y,"aria-labelledby":"customized-dialog-title",open:n},r.a.createElement(b,{id:"customized-dialog-title",onClose:y}),r.a.createElement(v,null,r.a.createElement(f.default,{popUpParams:e.popUpParams,onSuccess:function(e){return function(e){p(!0),g(e)}(e)},land:function(a){console.log("parent clicked",a),e.land(a)}})),r.a.createElement(h,null)))}},900:function(e,a,t){"use strict";t.r(a);var l=t(41),n=t(0),c=t.n(n),r=t(244),o=t(673),i=t(699),s=t(596),m=t(742),p=t(592),d=t(349),u=t(693),E=t(692),g=t(695),f=t(5),b=t(694),v=t(778),h=t(25),N=t(785),x=Object(r.a)((function(e){return{root:{minWidth:600,height:230},paperRoot:{backgroundColor:"#D3D3D3"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)",fontSize:20,color:"#FF0000"},title:{fontSize:14},pos:{marginBottom:12},splitScreen:{display:"flex",flexDirection:"row"},leftPane:{width:"60%"},rightPane:{width:"40%"},table:{width:"300px"},table1:{borderCollapse:"collapse"},label:{fontSize:13,color:"black"},labelData:{fontSize:13,color:"black",fontWeight:"bold"},vhrStyle:{height:"300px",width:"1px"},boxOnTable:{left:"15px",top:"30px",padding:"1.4%",width:"44px",height:"44px",backgroundColor:"#C62926",color:"#FFFFFF",textAlign:"center",position:"relative",marginBottom:"10px",fontWeight:"bold"}}})),y=Object(f.a)({root:{borderBottom:"none",width:185}})(u.a),w={m:1,style:{width:"12rem",height:"6rem"},color:"black",textAlign:"center",border:"2px dashed #ccc"};a.default=c.a.memo((function(){var e=x(),a=Object(h.g)().state.settlement,t=Object(n.useState)(!1),r=Object(l.a)(t,2),u=r[0],f=r[1],O={uploadType:"invoice",referenceNumber:a.referenceNumber,status:a.invoice},j=Object(h.f)();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row"},c.a.createElement(p.a,{style:{fontSize:"20px",color:"black"}},"Settle Amount")),c.a.createElement("div",{className:"row"},c.a.createElement(d.a,{className:e.paperRoot,style:{marginTop:"5px",height:"50px",width:"100%"}},c.a.createElement(p.a,{style:{fontSize:"20px",color:"black",marginTop:"15px"}},"Summary-",a.referenceNumber)," ")),c.a.createElement("div",{className:e.splitScreen},c.a.createElement("div",{className:e.leftPane},c.a.createElement("div",{className:"row"},c.a.createElement(m.a,{container:!0},c.a.createElement(m.a,{item:!0,style:{marginTop:"40px",marginRight:"-17px"}},c.a.createElement("img",{src:"./location-pin.svg"})),c.a.createElement(m.a,{item:!0},c.a.createElement(v.a,w,c.a.createElement(m.a,{container:!0,style:{marginTop:"5px",fontSize:"13px"}},"  ",a.contactDetails))),c.a.createElement(m.a,{item:!0,style:{marginTop:"40px",marginRight:"-6px"}},c.a.createElement("img",{src:"./truck.svg"})),c.a.createElement(m.a,{item:!0},c.a.createElement(v.a,{style:{border:"2px dashed #ccc",height:"100px",width:"400px",marginTop:"10px"}},c.a.createElement("div",{className:"row"},c.a.createElement(m.a,{item:!0,xs:3}," "),c.a.createElement(m.a,{item:!0},c.a.createElement(v.a,{style:{height:"30px",width:"150px",border:"2px solid #ccc",marginTop:"30px",marginLeft:"30px"}},a.vehicleRegNo)))))))),c.a.createElement("div",{className:e.rightPane},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-5"}," ",c.a.createElement("hr",{className:e.vhrStyle})),c.a.createElement("div",{className:"col-md-7"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-7"},c.a.createElement(E.a,{size:"small",className:e.table},c.a.createElement(b.a,null,c.a.createElement(g.a,null,c.a.createElement(y,{style:{width:30}},c.a.createElement(p.a,{className:e.label},"Total Containers")),c.a.createElement(y,{style:{width:20}},c.a.createElement(p.a,{className:e.labelData},a.noOfContainers))),c.a.createElement(g.a,null,c.a.createElement(y,{style:{width:180}},c.a.createElement(p.a,{className:e.label},"Sub Total")),c.a.createElement(y,null,c.a.createElement(p.a,{className:e.labelData},a.settlementAmount))))))),c.a.createElement("div",{className:"row"},c.a.createElement(v.a,{border:1,className:e.boxOnTable},"AED"," "),c.a.createElement(m.a,{item:!0},c.a.createElement(o.a,{variant:"outlined",style:{height:"100px",width:"250px"}},c.a.createElement(i.a,null,c.a.createElement(m.a,{container:!0,spacing:1,alignItems:"center"},c.a.createElement(m.a,{item:!0,xs:7,style:{marginTop:"25px"}},c.a.createElement(p.a,{className:e.label},"Amount Payable")),c.a.createElement(m.a,{item:!0,xs:5,style:{marginTop:"25px"}},c.a.createElement(p.a,{style:{fontSize:"13px",color:"#C62926"}},a.settlementAmount," AED"))))))))))),c.a.createElement("hr",null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6"},a.invoice?a.invoice.fileName:""," "),c.a.createElement("div",{className:"col-md-6"},c.a.createElement(s.a,{variant:"contained",color:"primary",style:{float:"right"},onClick:function(){f(!0)}},"Upload Invoice"))),a.invoice&&c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement(p.a,{style:{fontSize:"13px",color:"black",fontWeight:"bold"}},"Comments by Admin : ",a.invoice.remarks))),u&&c.a.createElement(N.a,{popUpParams:O,onClose:function(){return f(!1)},redirectToClaim:function(e){j.push("/claimSummary",{settlement:a,fileName:e})}}),c.a.createElement("hr",null),c.a.createElement("br",null))}))}}]);
//# sourceMappingURL=47.5aa2bae8.chunk.js.map