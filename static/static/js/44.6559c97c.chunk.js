(this.webpackJsonpptms=this.webpackJsonpptms||[]).push([[44],{665:function(e,t,a){"use strict";var n=a(244),r=a(587),o=a(588),c=a(647),l=a(0),s=a.n(l),i=(a(356),a(251)),d=Object(n.a)((function(e){return{txtDiv:{display:"flex"},iconDiv:{width:"25px","& span":{position:"absolute",top:"40%",fontSize:"16px"}},txtField:{}}}));t.a=s.a.memo((function(e){var t=e.required,a=void 0!==t&&t,n=e.name,u=e.label,m=(e.helperText,e.fieldIcon),p=e.placeholder,f=(s.a.useRef(0),d());return Object(l.useEffect)((function(){}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,{name:n},(function(e){var t=e.form,c=e.field,l=e.meta,d=t.setFieldValue,b=!1;l.touched&&l.error&&(b=!0,l.error);var g=null;return g=c.value?s.a.createElement(i.a,{onClick:function(e){d(n,"")}}):null,s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:f.txtDiv},m&&s.a.createElement("div",{className:f.iconDiv},s.a.createElement(r.a,null,m)),s.a.createElement(o.a,Object.assign({},c,{label:u,fullWidth:!0,id:c.name,className:f.txtField,error:b,helperText:b?l.error:"",required:a,placeholder:p,InputProps:{endAdornment:g}}))))})))}))},707:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(248);t.a=r.a.memo((function(e){return r.a.createElement("div",null,r.a.createElement(o.a,{title:e.title,onClose:e.onClose,children:e.children,closeTxt:e.closeTxt,confirmTxt:e.confirmTxt,onConfirm:e.onConfirm,isConfirm:!0,isopen:e.isopen,closeIcon:e.closeIcon,openIcon:e.openIcon,closeButtonCss:e.closeButtonCss,confirmButtonCss:e.confirmButtonCss},e.children))}))},708:function(e,t,a){},714:function(e,t,a){"use strict";var n=a(591),r=a(592),o=a(602),c=a(727),l=a(595),s=a(647),i=a(0),d=a.n(i);t.a=d.a.memo((function(e){e.multiple;var t=e.options,a=(e.required,e.name),u=e.label,m=e.placeholder,p=e.helperText,f=(e.fieldAction,"");Object(i.useEffect)((function(){f=p}),[]);d.a.useRef(0);return d.a.createElement(d.a.Fragment,null,d.a.createElement(s.a,{name:a},(function(e){e.form;var s=e.field,i=e.meta,b=!1;return i.touched&&i.error?(b=!0,p=i.error):p=f,d.a.createElement(d.a.Fragment,null,d.a.createElement(n.a,{fullWidth:!0},d.a.createElement(r.a,null,u),d.a.createElement(o.a,Object.assign({},s,{label:u,id:a,placeholder:m,error:b}),t.map((function(e,t){return d.a.createElement(c.a,{value:e.value,key:t},e.label)}))),d.a.createElement(l.a,{className:!0===b?"Mui-error":""},p)))})))}))},715:function(e,t,a){"use strict";var n=a(114),r=a(115),o=(a(0),a(160)),c=a(138),l=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"fetchAddress",value:function(){var e={url:"".concat(o.r)};return Object(c.a)(e,!1)}},{key:"fetchAddressList",value:function(){var e={url:"".concat(o.s)};return Object(c.a)(e,!1)}},{key:"deleteAddress",value:function(e){var t=o.o+"/"+e;console.log("e in dete::",e);var a={url:t};return Object(c.c)(a,!0).catch((function(e){return e}))}}]),e}();t.a=new l},724:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(731);t.a=function(e){var t=e.title,a=e.message,n=e.icon,o=e.position,c=e.showToast;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"notification-success ".concat(o)},r.a.createElement("div",{className:"info-boxSuccess"},r.a.createElement("div",{className:"icon bg-green"},r.a.createElement("i",{className:"material-icons"},n)),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},t),r.a.createElement("div",{className:"message"},a)),r.a.createElement("div",{className:"col-md"},r.a.createElement("button",{style:{marginTop:"5px",fontSize:"25px"},type:"button",onClick:function(){c(!1)},className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))))}},731:function(e,t,a){},745:function(e,t,a){"use strict";var n=a(27),r=a(41),o=a(0),c=a.n(o),l=a(100),s=a(742),i=a(113),d=a(138),u=a(160),m=a(773),p=a(588),f=a(775),b=a(652),g=a.n(b),E=a(647),h=a(665),x=a(714),v=a(597),j=a(598),O=a(599),C=a(596);t.a=c.a.memo((function(e){console.log("props in createEditAdddressPopup::",e);var t=Object(o.useState)(null),a=Object(r.a)(t,2),b=a[0],S=a[1],N=Object(o.useState)(!1),A=Object(r.a)(N,2),F=(A[0],A[1],Object(o.useState)(i.e)),y=Object(r.a)(F,2),k=(y[0],y[1],Object(o.useState)(0)),D=Object(r.a)(k,2),T=D[0],w=D[1],L=Object(o.useState)(""),z=Object(r.a)(L,2),I=(z[0],z[1],Object(o.useState)("")),q=Object(r.a)(I,2),B=q[0],R=q[1],W=Object(o.useState)(!1),M=Object(r.a)(W,2),Z=(M[0],M[1]),V=Object(o.useState)([]),P=Object(r.a)(V,2),_=P[0],G=P[1],H=l.b({consigneeContactName:l.c().required("Consignee Name is Required"),addressNickname:l.c().required("Address nickname is Required"),dropZone:l.c().required("Drop Zone is Required"),consigneeContactNumber:l.c().required("Mobile Number is Required").matches(/^[+][0-9]\d{11,11}$/,"Format must be +971xxxxxxxxx"),phoneNumber:l.c().required("Phone Number is Required").matches(/^[+][0-9]\d{10,10}$/,"Format must be +971xxxxxxxx"),dropAddress:l.c().required("Drop Address is Required")});Object(o.useEffect)((function(){var t={url:u.M};Object(d.a)(t,!0).then((function(e){G(e.data.dataItems),console.log("-------",e.data.dataItems)})).then((function(){S(e.createEditFormData),R(e.createEditFormData.dropAddress)})).catch((function(e){}))}),[]);var K=function(t){e.onClose()};return c.a.createElement(E.d,{initialValues:b||"",validationSchema:H,onSubmit:function(t,a){if(console.log("values::::",t),console.log("f::::",a),""!==B){var n;console.log("value ::",t),t.dropAddress=B,t.code=e.createEditFormData.code,console.log("eeeeeeee",t),console.log("action :::",e.action),"ADD"===e.action&&(n=u.k),"EDIT"===e.action&&(n=u.cb);var r={url:n,body:t};Object(d.c)(r,!0).then((function(t){w(T+1),e.onConfirm()})).catch((function(e){}))}else Z(!0)},enableReinitialize:!0},(function(t){var a,r;return c.a.createElement(c.a.Fragment,null,0!==_.length&&c.a.createElement(v.a,{fullWidth:!0,maxWidth:"md",open:e.isopen},c.a.createElement(j.a,{style:{backgroundColor:"#FFF",color:"black",textAlign:"left"}},c.a.createElement(f.a,{className:"icon-button","aria-label":"close",onClick:K},c.a.createElement(g.a,null)),"ADD"===e.action?"Add Location":"Edit Address"),c.a.createElement(O.a,null,c.a.createElement(E.c,{autoComplete:"off"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{style:{width:"300px"}},c.a.createElement(s.a,{container:!0,spacing:1},c.a.createElement(s.a,{item:!0,xs:12},c.a.createElement(p.a,(r={placeholder:"Locate from map",name:"dropAddress",id:"dropAddress",value:B,error:t.touched.dropAddress&&t.errors.dropAddress,helperText:t.touched.dropAddress&&t.errors.dropAddress?t.errors.dropAddress:""},Object(n.a)(r,"value",B||(null===(a=t.values)||void 0===a?void 0:a.dropAddress)),Object(n.a)(r,"fullWidth",!0),r))),c.a.createElement(s.a,{item:!0,xs:12},c.a.createElement(h.a,{label:"Address line 1",name:"addressLine1",id:"addressLine1"})),c.a.createElement(s.a,{item:!0,xs:12},c.a.createElement(x.a,{label:"Zone",name:"dropZone",options:_})),c.a.createElement(s.a,{item:!0,xs:12},c.a.createElement(h.a,{label:"Nick name",name:"addressNickname",id:"addressNickname"})),c.a.createElement(s.a,{item:!0,xs:12},c.a.createElement(h.a,{label:"Contact Person",name:"consigneeContactName",id:"consigneeContactName"})),c.a.createElement(s.a,{item:!0,xs:12},c.a.createElement(h.a,{label:"Phone Number",placeholder:"e.g. +971xxxxxxxx",name:"phoneNumber",id:"phoneNumber"})),c.a.createElement(s.a,{item:!0,xs:12},c.a.createElement(h.a,{label:"Mobile Number",name:"consigneeContactNumber",id:"consigneeContactNumber",placeholder:"e.g. +971xxxxxxxxx"})),c.a.createElement(C.a,{style:{float:"right",fontWeight:"lighter",width:"122px",height:"41px",fontSize:"17px",justifySelf:"right",marginLeft:"200px",marginTop:"20px"},variant:"contained",color:"primary"},"Continue"))),c.a.createElement("div",{className:"col"},c.a.createElement(m.a,{handleClick:function(e){R(e),t.setFieldValue("dropAddress",e)}})))))))}))}))},773:function(e,t,a){"use strict";var n=a(41),r=a(0),o=a.n(r),c=a(747),l=a(746),s=a.n(l),i={zoomLevel:12,initialLat:25.2048,initialLng:55.2708,apiKey:"AIzaSyAECHNsbM59mna4pUyxIqnlvwQhLagQggo",streetViewControl:!1,gestureHandling:"auto",mapTypeControl:!1,fullscreenControl:!1};t.a=Object(c.GoogleApiWrapper)({apiKey:i.apiKey})((function(e){var t=Object(r.useState)(i.zoomLevel),a=Object(n.a)(t,2),l=a[0],d=(a[1],Object(r.useState)(i.lat||25.2048)),u=Object(n.a)(d,2),m=u[0],p=u[1],f=Object(r.useState)(i.lng||55.2708),b=Object(n.a)(f,2),g=b[0],E=b[1];return o.a.createElement("div",{style:{width:"50%%",height:"50vh"}},o.a.createElement(c.Map,{google:e.google,zoom:l,initialCenter:{lat:m,lng:g},streetViewControl:i.streetViewControl,gestureHandling:i.gestureHandling,onClick:function(t,a,n){var r=n.latLng;p(r.lat()),E(r.lng()),s.a.fromLatLng(r.lat(),r.lng(),i.apiKey).then((function(t){var a=t.results[0].formatted_address;console.log("formatted_address :: "+a),e.handleClick(a)}),(function(e){console.error(e)})),a.setZoom(15),a.panTo(r)},mapTypeControl:i.mapTypeControl,fullscreenControl:i.fullscreenControl},o.a.createElement(c.Marker,{position:{lat:m,lng:g}})))}))},792:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var n=a(41),r=a(0),o=a.n(r),c=a(775),l=a(794),s=a.n(l),i=a(793),d=a.n(i),u=a(673),m=a(713),p=a(699),f=a(763),b=a(244),g=a(745),E=a(113),h=(a(160),a(715)),x=a(636),v=a(592),j=a(732),O=a(707),C=a(724),S=(a(138),Object(b.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(2),height:"230px ",width:"182px ",fontSize:"12px",border:" 1px solid #d8d8d8",borderBottom:"none"},clickableIcon:{color:"grey","&:hover":{color:"red"}},cancelButton:{background:"#dc4e4e",color:"#fff",textTransform:"none",float:"center",width:"56px",height:"30px"},confirmButton:{background:"#4CAB5B",color:"#fff",textTransform:"none",float:"center",width:"56px",height:"30px"},selected:{border:"1px solid #0568AE"},headerTitle:{fontSize:18,fontFamily:"Dubai Regular",paddingLeft:"0px",color:"#686868"}}}))),N={consigneeContactName:"",consigneeContactNumber:"",addressNickname:"",dropAddress:"",code:"",phoneNumber:"",addressLine1:"",dropZone:""};function A(e){var t=S();console.log("Props in addressCard ::",e);var a=Object(r.useState)(E.e),l=Object(n.a)(a,2),i=l[0],b=l[1],A=Object(r.useState)(0),F=Object(n.a)(A,2),y=F[0],k=F[1],D=Object(r.useState)(" "),T=Object(n.a)(D,2),w=T[0],L=T[1],z=Object(r.useState)(""),I=Object(n.a)(z,2),q=(I[0],I[1],Object(r.useState)([])),B=Object(n.a)(q,2),R=(B[0],B[1],Object(r.useState)(E.e)),W=Object(n.a)(R,2),M=W[0],Z=W[1],V=Object(r.useState)(null),P=Object(n.a)(V,2),_=P[0],G=P[1],H=Object(r.useState)([]),K=Object(n.a)(H,2),J=(K[0],K[1],Object(r.useState)([t.root])),Q=Object(n.a)(J,2),Y=Q[0],$=Q[1],U=function(){console.log("props... in address card on click of edit::",e),(N=e.address).dropZone=e.address.selectedDropZone,console.log("createEditFormData in popup::",N),L("EDIT"),k(y+1),b(E.f)},X=function(){console.log("props... in address card on click of link",e),$([t.root,t.selected]),e.saved(e.address)},ee=function(){return console.log("renderEditIcon addressCard ::",e),"true"===e.editFlag&&"true"===e.deleteFlag?o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,{onClick:U,address:e.address,render:e.render},o.a.createElement("img",{src:"./pencil.svg"})),o.a.createElement(c.a,{onClick:function(){Z(E.a)},address:e.address},o.a.createElement("img",{src:"./trash.svg"}))):"true"===e.deleteFlag&&"false"===e.editFlag?o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,null,o.a.createElement(d.a,{onClick:function(){Z(E.a)},address:e.address}))):"false"===e.deleteFlag&&"true"===e.editFlag?o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,null,o.a.createElement(s.a,{onClick:U,address:e.address}))):o.a.createElement(o.a.Fragment,null)},te=function(){return""!==e.divider?o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",{style:{color:"#D8D8D8",border:"solid",borderWidth:"1px",marginTop:"0px"}}),o.a.createElement(x.a,{style:{textDecoration:"underline",color:"#0568AE",marginTop:"5px",fontSize:"16px",alignItems:"center",marginLeft:"15px",cursor:"pointer"},onClick:X},e.divider)):o.a.createElement(o.a.Fragment,null)};return o.a.createElement(r.Fragment,null,o.a.createElement(u.a,{className:Y},o.a.createElement(m.a,{style:{padding:"0 0 0 0px"},action:o.a.createElement(ee,{address:e.address}),title:"".concat(e.address.addressNickname),classes:{title:t.headerTitle}}),o.a.createElement(f.a,null),o.a.createElement(p.a,{style:{paddingLeft:"3px"}},o.a.createElement(v.a,{style:{fontSize:"16px",color:"#686868",textAlign:"left",height:"19px",width:"150px"}},e.address.consigneeContactName),o.a.createElement(j.a,{title:e.address.dropAddress,arrow:!0},o.a.createElement(v.a,{style:{fontSize:"16px",color:"#686868",textAlign:"left",height:"19px",marginTop:"5px",width:"150px"}},"".concat(e.address.dropAddress.substring(0,20)),"...")),o.a.createElement(v.a,{style:{fontSize:"16px",color:"#686868",textAlign:"left",height:"19px",marginTop:"5px",width:"150px"}},"Mob: ",e.address.consigneeContactNumber),o.a.createElement(v.a,{style:{fontSize:"16px",color:"#686868",textAlign:"left",height:"19px",marginTop:"5px",width:"150px"}},"ph: ",e.address.phoneNumber))),""!==e.divider&&o.a.createElement(u.a,{style:{width:"182px",height:"41px",flexGrow:1,marginTop:"-41px",border:"1px solid #d8d8d8",borderTop:"none",borderTopRightRadius:"0px",borderTopLeftRadius:"0px"}},o.a.createElement(te,null)),i===E.f&&o.a.createElement(g.a,{isopen:i===E.f,action:w,createEditFormData:N,onClose:function(e){b(E.e)},onConfirm:function(t){b(E.e),e.saved(),e.render()}}),M===E.a&&o.a.createElement(O.a,{fullWidth:!0,isopen:M===E.a,title:"Attention!",children:"Are You sure to delete the address?",confirmTxt:"Yes",closeTxt:"No",confirmButtonCss:t.confirmButton,closeButtonCss:t.cancelButton,onClose:function(){Z(E.e)},onConfirm:function(t){console.log("ewerr",e.address),h.a.deleteAddress(e.address.code).then((function(t){console.log("response after deleting address",t),Z(E.e),e.render(),G(!0)})).catch((function(){console.log("error")}))}}),_&&o.a.createElement(C.a,{icon:"check_circle",title:"Address deleted successfully",message:"",showToast:function(){G(!1)},position:"top-right"}))}},795:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(41),r=a(0),o=a.n(r),c=a(775),l=a(113),s=a(745),i=a(592),d=a(673),u=a(244),m=(a(708),a(138)),p=a(160),f={consigneeContactName:"",consigneeContactNumber:"",dropAddress:"",code:"",addressNickname:"",phoneNumber:"",addressLine1:""},b=Object(u.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(2),height:"230px",width:"182px",fontSize:"12px",borderColor:"#0E1B3D",borderWidth:"1.5px",borderStyle:"dashed",marginBottom:"0px !important",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}}}));function g(e){var t=b(),a=Object(r.useState)(l.e),u=Object(n.a)(a,2),g=u[0],E=u[1],h=Object(r.useState)(0),x=Object(n.a)(h,2),v=x[0],j=x[1],O=Object(r.useState)(" "),C=Object(n.a)(O,2),S=C[0],N=C[1],A=Object(r.useState)([]),F=Object(n.a)(A,2),y=(F[0],F[1]);console.log("action is",S);return Object(r.useEffect)((function(){var e={url:p.M};Object(m.a)(e,!0).then((function(e){y(e.data.dataItems)})).catch((function(e){}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{className:t.root},o.a.createElement(c.a,{"aria-label":"Add"},o.a.createElement("div",null,o.a.createElement("div",null," ",o.a.createElement("img",{src:"./add_location_plus.svg",onClick:function(){f={consigneeContactName:"",consigneeContactNumber:"",phoneNumber:"",dropAddress:"",addressLine1:"",addressNickname:"",dropZone:""},N("ADD"),j(v+1),E(l.f),console.log("clicked")}})),o.a.createElement("div",null,o.a.createElement(i.a,{class:"upperCase ",style:{fontSize:"12px",color:"#0568AE"}},"Add Location"))))),g===l.f&&o.a.createElement(s.a,{isopen:g===l.f,action:S,createEditFormData:f,onClose:function(e){E(l.e)},onConfirm:function(t){E(l.e),console.log("hiii"),e.render()}}))}},891:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a.n(n),o=a(42),c=a(41),l=a(0),s=a.n(l),i=a(715),d=a(113),u=a(350),m=a(138),p=a(792),f=a(647),b=a(665),g=a(211),E=a(795),h=(a(708),a(742)),x={searchField:""};t.default=function(){var e=Object(l.useState)([]),t=Object(c.a)(e,2),a=t[0],n=t[1],v=Object(l.useState)(d.e),j=Object(c.a)(v,2),O=(j[0],j[1],Object(l.useState)(0)),C=Object(c.a)(O,2),S=C[0],N=C[1],A=Object(l.useState)(" "),F=Object(c.a)(A,2),y=(F[0],F[1],Object(l.useState)("/ptms/app/api/secure/address/search")),k=Object(c.a)(y,2),D=(k[0],k[1],Object(l.useState)("")),T=Object(c.a)(D,2),w=(T[0],T[1],Object(l.useState)(x)),L=Object(c.a)(w,2),z=L[0],I=(L[1],Object(l.useState)("")),q=Object(c.a)(I,2),B=q[0],R=q[1],W=Object(l.useState)(""),M=Object(c.a)(W,2),Z=M[0],V=M[1],P=Object(l.useState)(0),_=Object(c.a)(P,2),G=_[0],H=_[1];Object(l.useEffect)((function(){(function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.a.fetchAddress().then((function(e){console.log("response in ::",e),console.log("length",e.length),console.log("response.addressDtoList ::",e.addressDtoList),n(e.addressDtoList),console.log("addressData",a)})).catch((function(e){console.log("error")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[Z,G]),Object(l.useEffect)((function(){console.log("rendered")}),[B]);var K=function(e){console.log("heloo add address"),H(G+1)};return s.a.createElement(f.d,{initialValues:z,onSubmit:function(e){console.log("form",e);var t={url:"/ptms/app/api/secure/address/search?searchField="+e.searchField};Object(m.a)(t,!0).then((function(e){console.log("search response ::",e),R(e),n(e),N(S+1)}))}},(function(e){return e,s.a.createElement(s.a.Fragment,null,s.a.createElement(f.c,{autoComplete:"off"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md"},s.a.createElement(b.a,{label:"search",name:"searchField",id:"searchField",helperText:" "})),s.a.createElement("div",{className:"col-md"},s.a.createElement(g.a,{text:"Search",type:"submit",icon:"search"}))),s.a.createElement(u.a,{variant:"subtitle1"},"SAVED ADDRESS"),s.a.createElement("br",null),s.a.createElement(h.a,{container:!0,spacing:4},s.a.createElement(h.a,{style:{width:"182px"},item:!0,xs:2,container:!0,spacing:0},s.a.createElement(l.Fragment,null,s.a.createElement(E.a,{render:K}))),void 0!==a&&a.map((function(e,t){return s.a.createElement(h.a,{item:!0,xs:2,key:a.indexOf(e),container:!0,spacing:0},s.a.createElement(h.a,{style:{width:"182px"}},s.a.createElement(p.a,{address:e,editFlag:"true",deleteFlag:"true",render:K,saved:function(e){console.log("rendered...."),V(e)},divider:""})))})))))}))}}}]);
//# sourceMappingURL=44.6559c97c.chunk.js.map